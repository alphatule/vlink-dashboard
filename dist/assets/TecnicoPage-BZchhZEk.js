import{d as lt,r as de,y as Ee,a as Se,o as ct,c as ut,w as T,u as _,I as dt,e as L,g as Oe,h as vt,i as gt,j as Fe,k as Be,f as Ve,m as ft,n as Ae,p as K,q as v,z as le,v as Q,x as xe,s as Ge,t as ht,F as pt,l as mt,b as we,_ as bt}from"./index-Cpjqawtw.js";import{aS as R,aT as Ue,aU as Ye,aV as He,a1 as yt,aa as $e,aW as We,aX as _e,j as he,g as St,aY as At,q as Je,aZ as q,ar as xt,a_ as wt,u as _t,e as ve,R as Ke,a$ as Ct,_ as Te,Y as Qe,I as X,b0 as Mt,a4 as Lt,a6 as Dt,E as Ce,B as qe,D as Tt,a2 as It,K as Pt,J as kt,F as Nt,b1 as zt,p as Rt,f as Et,$ as Xe,b as et,b2 as Ot,b3 as Ft,x as Bt,b4 as Vt,b5 as Gt,aL as Me,aM as Ut,aJ as Yt,aN as $t,aO as Wt,aP as qt,aQ as Xt,aR as Zt}from"./index-CRGofHIv.js";function tt(t,a,r,e,n,o,s,l){var d=n-t,f=o-a,c=r-t,p=e-a,g=Math.sqrt(c*c+p*p);c/=g,p/=g;var i=d*c+f*p,u=i/g;u*=g;var h=s[0]=t+u*c,m=s[1]=a+u*p;return Math.sqrt((h-n)*(h-n)+(m-o)*(m-o))}var Z=new R,C=new R,z=new R,j=new R,$=new R,pe=[],O=new R;function jt(t,a){if(a<=180&&a>0){a=a/180*Math.PI,Z.fromArray(t[0]),C.fromArray(t[1]),z.fromArray(t[2]),R.sub(j,Z,C),R.sub($,z,C);var r=j.len(),e=$.len();if(!(r<.001||e<.001)){j.scale(1/r),$.scale(1/e);var n=j.dot($),o=Math.cos(a);if(o<n){var s=tt(C.x,C.y,z.x,z.y,Z.x,Z.y,pe);O.fromArray(pe),O.scaleAndAdd($,s/Math.tan(Math.PI-a));var l=z.x!==C.x?(O.x-C.x)/(z.x-C.x):(O.y-C.y)/(z.y-C.y);if(isNaN(l))return;l<0?R.copy(O,C):l>1&&R.copy(O,z),O.toArray(t[1])}}}}function Ht(t,a,r){if(r<=180&&r>0){r=r/180*Math.PI,Z.fromArray(t[0]),C.fromArray(t[1]),z.fromArray(t[2]),R.sub(j,C,Z),R.sub($,z,C);var e=j.len(),n=$.len();if(!(e<.001||n<.001)){j.scale(1/e),$.scale(1/n);var o=j.dot(a),s=Math.cos(r);if(o<s){var l=tt(C.x,C.y,z.x,z.y,Z.x,Z.y,pe);O.fromArray(pe);var d=Math.PI/2,f=Math.acos($.dot(a)),c=d+f-r;if(c>=d)R.copy(O,z);else{O.scaleAndAdd($,l/Math.tan(Math.PI/2-c));var p=z.x!==C.x?(O.x-C.x)/(z.x-C.x):(O.y-C.y)/(z.y-C.y);if(isNaN(p))return;p<0?R.copy(O,C):p>1&&R.copy(O,z)}O.toArray(t[1])}}}}function Le(t,a,r,e){var n=r==="normal",o=n?t:t.ensureState(r);o.ignore=a;var s=e.get("smooth");s&&s===!0&&(s=.3),o.shape=o.shape||{},s>0&&(o.shape.smooth=s);var l=e.getModel("lineStyle").getLineStyle();n?t.useStyle(l):o.style=l}function Jt(t,a){var r=a.smooth,e=a.points;if(e)if(t.moveTo(e[0][0],e[0][1]),r>0&&e.length>=3){var n=We(e[0],e[1]),o=We(e[1],e[2]);if(!n||!o){t.lineTo(e[1][0],e[1][1]),t.lineTo(e[2][0],e[2][1]);return}var s=Math.min(n,o)*r,l=_e([],e[1],e[0],s/n),d=_e([],e[1],e[2],s/o),f=_e([],l,d,.5);t.bezierCurveTo(l[0],l[1],l[0],l[1],f[0],f[1]),t.bezierCurveTo(d[0],d[1],d[0],d[1],e[2][0],e[2][1])}else for(var c=1;c<e.length;c++)t.lineTo(e[c][0],e[c][1])}function Kt(t,a,r){var e=t.getTextGuideLine(),n=t.getTextContent();if(!n){e&&t.removeTextGuideLine();return}for(var o=a.normal,s=o.get("show"),l=n.ignore,d=0;d<Ue.length;d++){var f=Ue[d],c=a[f],p=f==="normal";if(c){var g=c.get("show"),i=p?l:Ye(n.states[f]&&n.states[f].ignore,l);if(i||!Ye(g,s)){var u=p?e:e&&e.states[f];u&&(u.ignore=!0),e&&Le(e,!0,f,c);continue}e||(e=new He,t.setTextGuideLine(e),!p&&(l||!s)&&Le(e,!0,"normal",a.normal),t.stateProxy&&(e.stateProxy=t.stateProxy)),Le(e,!1,f,c)}}if(e){yt(e.style,r),e.style.fill=null;var h=o.get("showAbove"),m=t.textGuideLineConfig=t.textGuideLineConfig||{};m.showAbove=h||!1,e.buildPath=Jt}}function Qt(t,a){a=a||"labelLine";for(var r={normal:t.getModel(a)},e=0;e<$e.length;e++){var n=$e[e];r[n]=t.getModel([n,a])}return r}function ge(t,a,r){var e=t.get("borderRadius");if(e==null)return r?{cornerRadius:0}:null;he(e)||(e=[e,e,e,e]);var n=Math.abs(a.r||0-a.r0||0);return{cornerRadius:St(e,function(o){return At(o,n)})}}var Ze=Math.PI*2,fe=Math.PI/180;function at(t,a){return xt(t.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})}function rt(t,a){var r=at(t,a),e=t.get("center"),n=t.get("radius");he(n)||(n=[0,n]);var o=q(r.width,a.getWidth()),s=q(r.height,a.getHeight()),l=Math.min(o,s),d=q(n[0],l/2),f=q(n[1],l/2),c,p,g=t.coordinateSystem;if(g){var i=g.dataToPoint(e);c=i[0]||0,p=i[1]||0}else he(e)||(e=[e,e]),c=q(e[0],o)+r.x,p=q(e[1],s)+r.y;return{cx:c,cy:p,r0:d,r:f}}function ea(t,a,r){a.eachSeriesByType(t,function(e){var n=e.getData(),o=n.mapDimension("value"),s=at(e,r),l=rt(e,r),d=l.cx,f=l.cy,c=l.r,p=l.r0,g=-e.get("startAngle")*fe,i=e.get("endAngle"),u=e.get("padAngle")*fe;i=i==="auto"?g-Ze:-i*fe;var h=e.get("minAngle")*fe,m=h+u,y=0;n.each(o,function(G){!isNaN(G)&&y++});var A=n.getSum(o),S=Math.PI/(A||y)*2,I=e.get("clockwise"),M=e.get("roseType"),P=e.get("stillShowZeroSum"),E=n.getDataExtent(o);E[0]=0;var b=I?1:-1,x=[g,i],B=b*u/2;wt(x,!I),g=x[0],i=x[1];var H=nt(e);H.startAngle=g,H.endAngle=i,H.clockwise=I;var Y=Math.abs(i-g),U=Y,ee=0,V=g;if(n.setLayout({viewRect:s,r:c}),n.each(o,function(G,F){var w;if(isNaN(G)){n.setItemLayout(F,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:I,cx:d,cy:f,r0:p,r:M?NaN:c});return}M!=="area"?w=A===0&&P?S:G*S:w=Y/y,w<m?(w=m,U-=m):ee+=G;var N=V+b*w,k=0,D=0;u>w?(k=V+b*w/2,D=k):(k=V+B,D=N-B),n.setItemLayout(F,{angle:w,startAngle:k,endAngle:D,clockwise:I,cx:d,cy:f,r0:p,r:M?_t(G,E,[p,c]):c}),V=N}),U<Ze&&y)if(U<=.001){var W=Y/y;n.each(o,function(G,F){if(!isNaN(G)){var w=n.getItemLayout(F);w.angle=W;var N=0,k=0;W<u?(N=g+b*(F+1/2)*W,k=N):(N=g+b*F*W+B,k=g+b*(F+1)*W-B),w.startAngle=N,w.endAngle=k}})}else S=U/ee,V=g,n.each(o,function(G,F){if(!isNaN(G)){var w=n.getItemLayout(F),N=w.angle===m?m:G*S,k=0,D=0;N<u?(k=V+b*N/2,D=k):(k=V+B,D=V+b*N-B),w.startAngle=k,w.endAngle=D,V+=b*N}})})}var nt=Je();function ta(t){return{seriesType:t,reset:function(a,r){var e=r.findComponents({mainType:"legend"});if(!(!e||!e.length)){var n=a.getData();n.filterSelf(function(o){for(var s=n.getName(o),l=0;l<e.length;l++)if(!e[l].isSelected(s))return!1;return!0})}}}}var aa=Math.PI/180;function je(t,a,r,e,n,o,s,l,d,f){if(t.length<2)return;function c(h){for(var m=h.rB,y=m*m,A=0;A<h.list.length;A++){var S=h.list[A],I=Math.abs(S.label.y-r),M=e+S.len,P=M*M,E=Math.sqrt(Math.abs((1-I*I/y)*P)),b=a+(E+S.len2)*n,x=b-S.label.x,B=S.targetTextWidth-x*n;st(S,B,!0),S.label.x=b}}function p(h){for(var m={list:[],maxY:0},y={list:[],maxY:0},A=0;A<h.length;A++)if(h[A].labelAlignTo==="none"){var S=h[A],I=S.label.y>r?y:m,M=Math.abs(S.label.y-r);if(M>=I.maxY){var P=S.label.x-a-S.len2*n,E=e+S.len,b=Math.abs(P)<E?Math.sqrt(M*M/(1-P*P/E/E)):E;I.rB=b,I.maxY=M}I.list.push(S)}c(m),c(y)}for(var g=t.length,i=0;i<g;i++)if(t[i].position==="outer"&&t[i].labelAlignTo==="labelLine"){var u=t[i].label.x-f;t[i].linePoints[1][0]+=u,t[i].label.x=f}Ct(t,d,d+s)&&p(t)}function ra(t,a,r,e,n,o,s,l){for(var d=[],f=[],c=Number.MAX_VALUE,p=-Number.MAX_VALUE,g=0;g<t.length;g++){var i=t[g].label;De(t[g])||(i.x<a?(c=Math.min(c,i.x),d.push(t[g])):(p=Math.max(p,i.x),f.push(t[g])))}for(var g=0;g<t.length;g++){var u=t[g];if(!De(u)&&u.linePoints){if(u.labelStyleWidth!=null)continue;var i=u.label,h=u.linePoints,m=void 0;u.labelAlignTo==="edge"?i.x<a?m=h[2][0]-u.labelDistance-s-u.edgeDistance:m=s+n-u.edgeDistance-h[2][0]-u.labelDistance:u.labelAlignTo==="labelLine"?i.x<a?m=c-s-u.bleedMargin:m=s+n-p-u.bleedMargin:i.x<a?m=i.x-s-u.bleedMargin:m=s+n-i.x-u.bleedMargin,u.targetTextWidth=m,st(u,m)}}je(f,a,r,e,1,n,o,s,l,p),je(d,a,r,e,-1,n,o,s,l,c);for(var g=0;g<t.length;g++){var u=t[g];if(!De(u)&&u.linePoints){var i=u.label,h=u.linePoints,y=u.labelAlignTo==="edge",A=i.style.padding,S=A?A[1]+A[3]:0,I=i.style.backgroundColor?0:S,M=u.rect.width+I,P=h[1][0]-h[2][0];y?i.x<a?h[2][0]=s+u.edgeDistance+M+u.labelDistance:h[2][0]=s+n-u.edgeDistance-M-u.labelDistance:(i.x<a?h[2][0]=i.x+u.labelDistance:h[2][0]=i.x-u.labelDistance,h[1][0]=h[2][0]+P),h[1][1]=h[2][1]=i.y}}}function st(t,a,r){if(r===void 0&&(r=!1),t.labelStyleWidth==null){var e=t.label,n=e.style,o=t.rect,s=n.backgroundColor,l=n.padding,d=l?l[1]+l[3]:0,f=n.overflow,c=o.width+(s?0:d);if(a<c||r){var p=o.height;if(f&&f.match("break")){e.setStyle("backgroundColor",null),e.setStyle("width",a-d);var g=e.getBoundingRect();e.setStyle("width",Math.ceil(g.width)),e.setStyle("backgroundColor",s)}else{var i=a-d,u=a<c?i:r?i>t.unconstrainedWidth?null:i:null;e.setStyle("width",u)}var h=e.getBoundingRect();o.width=h.width;var m=(e.style.margin||0)+2.1;o.height=h.height+m,o.y-=(o.height-p)/2}}}function De(t){return t.position==="center"}function na(t){var a=t.getData(),r=[],e,n,o=!1,s=(t.get("minShowLabelAngle")||0)*aa,l=a.getLayout("viewRect"),d=a.getLayout("r"),f=l.width,c=l.x,p=l.y,g=l.height;function i(P){P.ignore=!0}function u(P){if(!P.ignore)return!0;for(var E in P.states)if(P.states[E].ignore===!1)return!0;return!1}a.each(function(P){var E=a.getItemGraphicEl(P),b=E.shape,x=E.getTextContent(),B=E.getTextGuideLine(),H=a.getItemModel(P),Y=H.getModel("label"),U=Y.get("position")||H.get(["emphasis","label","position"]),ee=Y.get("distanceToLabelLine"),V=Y.get("alignTo"),W=q(Y.get("edgeDistance"),f),G=Y.get("bleedMargin"),F=H.getModel("labelLine"),w=F.get("length");w=q(w,f);var N=F.get("length2");if(N=q(N,f),Math.abs(b.endAngle-b.startAngle)<s){ve(x.states,i),x.ignore=!0,B&&(ve(B.states,i),B.ignore=!0);return}if(u(x)){var k=(b.startAngle+b.endAngle)/2,D=Math.cos(k),J=Math.sin(k),ne,ce,Ie,ue;e=b.cx,n=b.cy;var te=U==="inside"||U==="inner";if(U==="center")ne=b.cx,ce=b.cy,ue="center";else{var me=(te?(b.r+b.r0)/2*D:b.r*D)+e,be=(te?(b.r+b.r0)/2*J:b.r*J)+n;if(ne=me+D*3,ce=be+J*3,!te){var Pe=me+D*(w+d-b.r),ke=be+J*(w+d-b.r),Ne=Pe+(D<0?-1:1)*N,ze=ke;V==="edge"?ne=D<0?c+W:c+f-W:ne=Ne+(D<0?-ee:ee),ce=ze,Ie=[[me,be],[Pe,ke],[Ne,ze]]}ue=te?"center":V==="edge"?D>0?"right":"left":D>0?"left":"right"}var se=Math.PI,ae=0,ie=Y.get("rotate");if(Ke(ie))ae=ie*(se/180);else if(U==="center")ae=0;else if(ie==="radial"||ie===!0){var it=D<0?-k+se:-k;ae=it}else if(ie==="tangential"&&U!=="outside"&&U!=="outer"){var re=Math.atan2(D,J);re<0&&(re=se*2+re);var ot=J>0;ot&&(re=se+re),ae=re-se}if(o=!!ae,x.x=ne,x.y=ce,x.rotation=ae,x.setStyle({verticalAlign:"middle"}),te){x.setStyle({align:ue});var ye=x.states.select;ye&&(ye.x+=x.x,ye.y+=x.y)}else{var oe=x.getBoundingRect().clone();oe.applyTransform(x.getComputedTransform());var Re=(x.style.margin||0)+2.1;oe.y-=Re/2,oe.height+=Re,r.push({label:x,labelLine:B,position:U,len:w,len2:N,minTurnAngle:F.get("minTurnAngle"),maxSurfaceAngle:F.get("maxSurfaceAngle"),surfaceNormal:new R(D,J),linePoints:Ie,textAlign:ue,labelDistance:ee,labelAlignTo:V,edgeDistance:W,bleedMargin:G,rect:oe,unconstrainedWidth:oe.width,labelStyleWidth:x.style.width})}E.setTextConfig({inside:te})}}),!o&&t.get("avoidLabelOverlap")&&ra(r,e,n,d,f,g,c,p);for(var h=0;h<r.length;h++){var m=r[h],y=m.label,A=m.labelLine,S=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:m.textAlign}),S&&(ve(y.states,i),y.ignore=!0);var I=y.states.select;I&&(I.x+=y.x,I.y+=y.y)}if(A){var M=m.linePoints;S||!M?(ve(A.states,i),A.ignore=!0):(jt(M,m.minTurnAngle),Ht(M,m.surfaceNormal,m.maxSurfaceAngle),A.setShape({points:M}),y.__hostTarget.textGuideLineConfig={anchor:new R(M[0][0],M[0][1])})}}}var sa=function(t){Te(a,t);function a(r,e,n){var o=t.call(this)||this;o.z2=2;var s=new Dt;return o.setTextContent(s),o.updateData(r,e,n,!0),o}return a.prototype.updateData=function(r,e,n,o){var s=this,l=r.hostModel,d=r.getItemModel(e),f=d.getModel("emphasis"),c=r.getItemLayout(e),p=X(ge(d.getModel("itemStyle"),c,!0),c);if(isNaN(p.startAngle)){s.setShape(p);return}if(o){s.setShape(p);var g=l.getShallow("animationType");l.ecModel.ssr?(Ce(s,{scaleX:0,scaleY:0},l,{dataIndex:e,isFrom:!0}),s.originX=p.cx,s.originY=p.cy):g==="scale"?(s.shape.r=c.r0,Ce(s,{shape:{r:c.r}},l,e)):n!=null?(s.setShape({startAngle:n,endAngle:n}),Ce(s,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},l,e)):(s.shape.endAngle=c.startAngle,qe(s,{shape:{endAngle:c.endAngle}},l,e))}else Tt(s),qe(s,{shape:p},l,e);s.useStyle(r.getItemVisual(e,"style")),It(s,d);var i=(c.startAngle+c.endAngle)/2,u=l.get("selectedOffset"),h=Math.cos(i)*u,m=Math.sin(i)*u,y=d.getShallow("cursor");y&&s.attr("cursor",y),this._updateLabel(l,r,e),s.ensureState("emphasis").shape=X({r:c.r+(f.get("scale")&&f.get("scaleSize")||0)},ge(f.getModel("itemStyle"),c)),X(s.ensureState("select"),{x:h,y:m,shape:ge(d.getModel(["select","itemStyle"]),c)}),X(s.ensureState("blur"),{shape:ge(d.getModel(["blur","itemStyle"]),c)});var A=s.getTextGuideLine(),S=s.getTextContent();A&&X(A.ensureState("select"),{x:h,y:m}),X(S.ensureState("select"),{x:h,y:m}),Pt(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},a.prototype._updateLabel=function(r,e,n){var o=this,s=e.getItemModel(n),l=s.getModel("labelLine"),d=e.getItemVisual(n,"style"),f=d&&d.fill,c=d&&d.opacity;kt(o,Nt(s),{labelFetcher:e.hostModel,labelDataIndex:n,inheritColor:f,defaultOpacity:c,defaultText:r.getFormattedLabel(n,"normal")||e.getName(n)});var p=o.getTextContent();o.setTextConfig({position:null,rotation:null}),p.attr({z2:10});var g=r.get(["label","position"]);if(g!=="outside"&&g!=="outer")o.removeTextGuideLine();else{var i=this.getTextGuideLine();i||(i=new He,this.setTextGuideLine(i)),Kt(this,Qt(s),{stroke:f,opacity:zt(l.get(["lineStyle","opacity"]),c,1)})}},a}(Qe),ia=function(t){Te(a,t);function a(){var r=t!==null&&t.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return a.prototype.render=function(r,e,n,o){var s=r.getData(),l=this._data,d=this.group,f;if(!l&&s.count()>0){for(var c=s.getItemLayout(0),p=1;isNaN(c&&c.startAngle)&&p<s.count();++p)c=s.getItemLayout(p);c&&(f=c.startAngle)}if(this._emptyCircleSector&&d.remove(this._emptyCircleSector),s.count()===0&&r.get("showEmptyCircle")){var g=nt(r),i=new Qe({shape:X(rt(r,n),g)});i.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=i,d.add(i)}s.diff(l).add(function(u){var h=new sa(s,u,f);s.setItemGraphicEl(u,h),d.add(h)}).update(function(u,h){var m=l.getItemGraphicEl(h);m.updateData(s,u,f),m.off("click"),d.add(m),s.setItemGraphicEl(u,m)}).remove(function(u){var h=l.getItemGraphicEl(u);Mt(h,r,u)}).execute(),na(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=s)},a.prototype.dispose=function(){},a.prototype.containPoint=function(r,e){var n=e.getData(),o=n.getItemLayout(0);if(o){var s=r[0]-o.cx,l=r[1]-o.cy,d=Math.sqrt(s*s+l*l);return d<=o.r&&d>=o.r0}},a.type="pie",a}(Lt);function oa(t,a,r){a=he(a)&&{coordDimensions:a}||X({encodeDefine:t.getEncode()},a);var e=t.getSource(),n=Rt(e,a).dimensions,o=new Et(n,t);return o.initData(e,r),o}var la=function(){function t(a,r){this._getDataWithEncodedVisual=a,this._getRawData=r}return t.prototype.getAllNames=function(){var a=this._getRawData();return a.mapArray(a.getName)},t.prototype.containName=function(a){var r=this._getRawData();return r.indexOfName(a)>=0},t.prototype.indexOfName=function(a){var r=this._getDataWithEncodedVisual();return r.indexOfName(a)},t.prototype.getItemVisual=function(a,r){var e=this._getDataWithEncodedVisual();return e.getItemVisual(a,r)},t}(),ca=Je(),ua=function(t){Te(a,t);function a(){return t!==null&&t.apply(this,arguments)||this}return a.prototype.init=function(r){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new la(Xe(this.getData,this),Xe(this.getRawData,this)),this._defaultLabelLine(r)},a.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},a.prototype.getInitialData=function(){return oa(this,{coordDimensions:["value"],encodeDefaulter:et(Vt,this)})},a.prototype.getDataParams=function(r){var e=this.getData(),n=ca(e),o=n.seats;if(!o){var s=[];e.each(e.mapDimension("value"),function(d){s.push(d)}),o=n.seats=Ot(s,e.hostModel.get("percentPrecision"))}var l=t.prototype.getDataParams.call(this,r);return l.percent=o[r]||0,l.$vars.push("percent"),l},a.prototype._defaultLabelLine=function(r){Ft(r,"labelLine",["show"]);var e=r.labelLine,n=r.emphasis.labelLine;e.show=e.show&&r.label.show,n.show=n.show&&r.emphasis.label.show},a.type="series.pie",a.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},a}(Bt);function da(t){return{seriesType:t,reset:function(a,r){var e=a.getData();e.filterSelf(function(n){var o=e.mapDimension("value"),s=e.get(o,n);return!(Ke(s)&&!isNaN(s)&&s<0)})}}}function va(t){t.registerChartView(ia),t.registerSeriesModel(ua),Gt("pie",t.registerAction),t.registerLayout(et(ea,"pie")),t.registerProcessor(ta("pie")),t.registerProcessor(da("pie"))}const ga={class:"chart-box"},fa={class:"chart-wrapper"},ha={class:"box"},pa={class:"chart-container"},ma={class:"box"},ba={class:"chart-container"},ya={class:"semaphore-container"},Sa={class:"semaphore"},Aa={class:"semaphore-label"},xa={class:"status-text"},wa={class:"box"},_a={class:"chart-container"},Ca={class:"realtime-stats"},Ma={class:"stat-item"},La={class:"progress-bar"},Da={class:"stat-value"},Ta={class:"stat-item"},Ia={class:"progress-bar"},Pa={class:"stat-value"},ka={class:"stat-item"},Na={class:"progress-bar"},za={class:"stat-value"},Ra={class:"box"},Ea={class:"chart-container"},Oa={class:"box"},Fa={class:"chart-container"},Ba={class:"box"},Va={class:"chart-container"},Ga={class:"security-stats"},Ua={class:"security-info"},Ya={class:"security-name"},$a={class:"security-status"},Wa=lt({__name:"TecnicoPage",setup(t){Me.register(...Ut),Yt([Wt,va,qt,Xt]);const a=de(null),r=de(null),e=de(null),n=de(120),o=Ee(()=>n.value<=100?"good":n.value<=300?"warning":"critical"),s=Ee(()=>o.value==="good"?"Óptimo":o.value==="warning"?"Atención":"Crítico"),l=Se({android:33,ios:33,web:33}),d=Se({tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",left:10,data:["Frontend","Backend","Database","Auth","API"],textStyle:{color:"#fff"}},series:[{name:"Errores",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#1E1E1E",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"18",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:35,name:"Frontend",itemStyle:{color:"#FF6384"}},{value:20,name:"Backend",itemStyle:{color:"#36A2EB"}},{value:15,name:"Database",itemStyle:{color:"#FFCE56"}},{value:25,name:"Auth",itemStyle:{color:"#4BC0C0"}},{value:5,name:"API",itemStyle:{color:"#9966FF"}}]}]}),f=Se([{name:"SSL/TLS",status:"good",statusText:"Activo",icon:"ion-lock-closed"},{name:"Firewall",status:"good",statusText:"Activo",icon:"ion-shield"},{name:"Autenticación",status:"warning",statusText:"Revisar",icon:"ion-key"},{name:"Cifrado",status:"good",statusText:"Activo",icon:"ion-code-working"},{name:"Backups",status:"critical",statusText:"Inactivo",icon:"ion-archive"}]),c=()=>{n.value=Math.floor(Math.random()*500)+50},p=()=>{l.android=Math.floor(Math.min(100,Math.max(60,l.android+(Math.random()*10-5)))),l.ios=Math.floor(Math.min(100,Math.max(70,l.ios+(Math.random()*10-5)))),l.web=Math.floor(Math.min(100,Math.max(65,l.web+(Math.random()*10-5))))};return ct(()=>{if(a.value&&new Me(a.value,{type:"line",data:{labels:["Ene","Feb","Mar","Abr","May","Jun"],datasets:[{label:"Tiempo de respuesta (ms)",data:[120,115,130,125,110,105],borderColor:"#36A2EB",backgroundColor:"rgba(54, 162, 235, 0.1)",tension:.4,fill:!1,borderWidth:2,pointRadius:3,pointHoverRadius:5},{label:"Solicitudes/min",data:[300,320,310,340,360,380],borderColor:"#FF6384",backgroundColor:"rgba(255, 99, 132, 0.1)",tension:.4,fill:!0,yAxisID:"y1",borderWidth:2,pointRadius:3,pointHoverRadius:5}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},scales:{y:{beginAtZero:!0,max:150,title:{display:!0,text:"ms",color:"#ccc",font:{size:10}},ticks:{color:"#ccc",font:{size:9},stepSize:30},grid:{color:"rgba(255, 255, 255, 0.1)"}},y1:{beginAtZero:!0,position:"right",max:400,title:{display:!0,text:"req/min",color:"#ccc",font:{size:10}},ticks:{color:"#ccc",font:{size:9},stepSize:100},grid:{display:!1}},x:{ticks:{color:"#ccc",font:{size:9}},grid:{color:"rgba(255, 255, 255, 0.1)"}}},plugins:{legend:{position:"top",align:"start",labels:{color:"#fff",boxWidth:10,padding:6,font:{size:9}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff"}}}}),r.value&&new Me(r.value,{type:"line",data:{labels:["00:00","04:00","08:00","12:00","16:00","20:00"],datasets:[{label:"CPU (%)",data:[30,45,65,70,60,86],borderColor:"#FF6384",backgroundColor:"rgba(255, 99, 132, 0.2)",tension:.4,fill:!0},{label:"Memoria (%)",data:[50,55,60,65,70,60],borderColor:"#36A2EB",backgroundColor:"rgba(54, 162, 235, 0.2)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:100,title:{display:!0,text:"Uso (%)",color:"#fff"},ticks:{color:"#ccc"},grid:{color:"rgba(255, 255, 255, 0.1)"}},x:{ticks:{color:"#ccc"},grid:{color:"rgba(255, 255, 255, 0.1)"}}},plugins:{legend:{labels:{color:"#fff"}}}}}),e.value){const g={series:[{name:"Tiempo de respuesta (ms)",data:[120,80,200,150,90,180,100]}],chart:{type:"radar",height:"100%",toolbar:{show:!1},foreColor:"#ccc",dropShadow:{enabled:!0,blur:1,left:1,top:1}},stroke:{width:2},fill:{opacity:.2},markers:{size:5,hover:{size:8}},xaxis:{categories:["/users","/auth","/messages","/profiles","/help","/ws","/settings"],labels:{style:{colors:Array(7).fill("#ccc")}}},yaxis:{show:!1},colors:["#FF6384"],plotOptions:{radar:{polygons:{strokeColors:"rgba(255, 255, 255, 0.1)",fill:{colors:["rgba(255, 255, 255, 0.05)","rgba(255, 255, 255, 0)"]}}}}};new $t(e.value,g).render()}setInterval(c,3e3),setInterval(p,2e3)}),(g,i)=>(we(),ut(_(dt),null,{default:T(()=>[L(_(Ve),{translucent:!0},{default:T(()=>[L(_(Oe),null,{default:T(()=>[L(_(vt),{slot:"start"},{default:T(()=>[L(_(gt),{color:"primary"})]),_:1}),L(_(Fe),null,{default:T(()=>i[0]||(i[0]=[Be("📈 Técnico")])),_:1})]),_:1})]),_:1}),L(_(mt),{fullscreen:!0,class:"ion-padding"},{default:T(()=>[L(_(Ve),{collapse:"condense"},{default:T(()=>[L(_(Oe),null,{default:T(()=>[L(_(Fe),{size:"large"},{default:T(()=>i[1]||(i[1]=[Be("📈 Técnico")])),_:1})]),_:1})]),_:1}),L(_(ft),{class:"dashboard-grid"},{default:T(()=>[L(_(Ae),{class:"dashboard-row"},{default:T(()=>[L(_(K),{size:"5","size-lg":"6",class:"dashboard-col"},{default:T(()=>[v("div",ga,[i[2]||(i[2]=v("h3",null,"Rendimiento de API",-1)),v("div",fa,[v("canvas",{ref_key:"apiPerformanceChart",ref:a},null,512)])])]),_:1}),L(_(K),{size:"5","size-lg":"6"},{default:T(()=>[v("div",ha,[v("div",pa,[i[3]||(i[3]=v("h3",null,"Errores por Módulo",-1)),L(_(Zt),{class:"chart",option:d,autoresize:""},null,8,["option"])])])]),_:1})]),_:1}),L(_(Ae),{class:"dashboard-row"},{default:T(()=>[L(_(K),{size:"12","size-md":"3","push-md":"9"},{default:T(()=>[v("div",ma,[v("div",ba,[i[4]||(i[4]=v("h3",null,"Estado API",-1)),v("div",ya,[v("div",Sa,[v("div",{class:le(["light red",{active:o.value==="critical"}])},null,2),v("div",{class:le(["light yellow",{active:o.value==="warning"}])},null,2),v("div",{class:le(["light green",{active:o.value==="good"}])},null,2)]),v("div",Aa,[v("span",null,Q(n.value)+"ms",1),v("span",xa,Q(s.value),1)])])])])]),_:1}),L(_(K),{size:"12","size-md":"9","pull-md":"3"},{default:T(()=>[v("div",wa,[v("div",_a,[i[8]||(i[8]=v("h3",null,"Compatibilidad Aplicación (Tiempo Real)",-1)),v("div",Ca,[v("div",Ma,[i[5]||(i[5]=v("div",{class:"stat-label"},"Android",-1)),v("div",La,[v("div",{class:"progress",style:xe({width:"".concat(l.android,"%"),backgroundColor:"#3DDC84"})},null,4),v("div",Da,Q(l.android)+"%",1)])]),v("div",Ta,[i[6]||(i[6]=v("div",{class:"stat-label"},"iOS",-1)),v("div",Ia,[v("div",{class:"progress",style:xe({width:"".concat(l.ios,"%"),backgroundColor:"#007AFF"})},null,4),v("div",Pa,Q(l.ios)+"%",1)])]),v("div",ka,[i[7]||(i[7]=v("div",{class:"stat-label"},"Web",-1)),v("div",Na,[v("div",{class:"progress",style:xe({width:"".concat(l.web,"%"),backgroundColor:"#FF9500"})},null,4),v("div",za,Q(l.web)+"%",1)])])])])])]),_:1})]),_:1}),L(_(Ae),{class:"dashboard-row"},{default:T(()=>[L(_(K),{size:"12","size-lg":"4.5"},{default:T(()=>[v("div",Ra,[v("div",Ea,[i[9]||(i[9]=v("h3",null,"Rendimiento por Endpoint",-1)),v("div",{ref_key:"endpointPerformanceChart",ref:e,style:{width:"100%",height:"90%"}},null,512)])])]),_:1}),L(_(K),{size:"12","size-lg":"4.5"},{default:T(()=>[v("div",Oa,[v("div",Fa,[i[10]||(i[10]=v("h3",null,"Uso de CPU/Memoria",-1)),v("canvas",{ref_key:"resourceUsageChart",ref:r},null,512)])])]),_:1}),L(_(K),{size:"12","size-lg":"3"},{default:T(()=>[v("div",Ba,[v("div",Va,[i[11]||(i[11]=v("h3",null,"Seguridad",-1)),v("div",Ga,[(we(!0),Ge(pt,null,ht(f,(u,h)=>(we(),Ge("div",{class:"security-item",key:h},[v("div",{class:le(["security-icon",u.status])},[v("i",{class:le(u.icon)},null,2)],2),v("div",Ua,[v("div",Ya,Q(u.name),1),v("div",$a,Q(u.statusText),1)])]))),128))])])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),Za=bt(Wa,[["__scopeId","data-v-22fe5e67"]]);export{Za as default};
